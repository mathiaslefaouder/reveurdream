"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[304],{74836:(e,t,n)=>{n(35666),n(82772),n(89554),n(41539),n(54747),n(54678),n(88674),n(78783),n(66992),n(33948),n(26699),n(32023),n(47042),n(68309),n(91038),n(74916),n(82526),n(41817),n(32165),n(79753);var r,a=n(36027);function i(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,c=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return c=e.done,e},e:function(e){s=!0,i=e},f:function(){try{c||null==n.return||n.return()}finally{if(s)throw i}}}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t,n,r,a,i,o){try{var c=e[i](o),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,a)}function s(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){c(i,r,a,o,s,"next",e)}function s(e){c(i,r,a,o,s,"throw",e)}o(void 0)}))}}function l(e,t){return u.apply(this,arguments)}function u(){return(u=s(regeneratorRuntime.mark((function e(t,n){var r,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=document.createElement("canvas")).width=200,r.height=360,(a=new Image).src="data:image/svg+xml;base64,"+window.btoa(t),e.next=7,new Promise((function(e,t){a.onload=function(){return e(r)}}));case 7:return"perso"==n||"animaux"==n?r.getContext("2d").drawImage(a,83,140):"voyages"==n||"social"==n||"travail"==n?r.getContext("2d").drawImage(a,0,-15):r.getContext("2d").drawImage(a,0,15),e.abrupt("return",r);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(){return(d=s(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new XMLHttpRequest).open("GET",t,!0),n.send(null),e.abrupt("return",n.responseText);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}a.f3v.defaultAccessToken="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiJhYzNkMmMxNi04NDM3LTQyNzEtYjBlNy05NTAxNjVjMGVhMDEiLCJpZCI6OTA1MzQsImlhdCI6MTY1MDQzNTIyMn0.P6exO2RJvDDe-6SgILWjoj92WeEaeRkPdWEeP6YhfYw",r=navigator.userAgent.toLowerCase().indexOf("android")>-1?a.B$V.SCENE2D:a.B$V.SCENE3D;var m=new a.AEx("cesiumContainer",{imageryProvider:new a.rpp({url:"https://services.arcgisonline.com/ArcGIS/rest/services/NatGeo_World_Map/MapServer/"}),resolutionScale:1,sceneMode:r,allowTextureFilterAnisotropic:!1,animation:!1,baseLayerPicker:!1,fullscreenButton:!1,geocoder:!1,homeButton:!1,sceneModePicker:!1,camera:!1,selectionIndicator:!1,timeline:!1,useDefaultRenderLoop:!0,navigationHelpButton:!1,shouldAnimate:!0,sun:!1,skyBox:!1,skyAtmosphere:!1,requestRenderMode:!0,contextOptions:{webgl:{alpha:!0,antialias:!1,depth:!0,premultipliedAlpha:!0,preserveDrawingBuffer:!1,failIfMajorPerformanceCaveat:!0,stencil:!0}}}),p=m.scene,f=m.screenSpaceEventHandler,h=m.camera,g=m.entities;p.backgroundColor=a.Ilk.clone(a.Ilk.TRANSPARENT).withAlpha(0),p.screenSpaceCameraController.minimumZoomDistance=6e3,p.screenSpaceCameraController.maximumZoomDistance=12756274,m.highDynamicRange=!1,h.flyTo({destination:a.b91.fromDegrees(2.3491,48.8579,9e6)});var y,v,w=(y="/dream-data-map",(v=new XMLHttpRequest).open("GET",y,!1),v.send(null),v.responseText);(w=JSON.parse(w)).dreams.forEach((function(e){g.add({position:a.b91.fromDegrees(parseFloat(e.lng),parseFloat(e.lat)),billboard:{width:200,height:360},show:!0,dreams:e.dreams,theme:e.theme_short,dream_id:e.id,category:e.category}),f.setInputAction((function(e){var t=p.pick(e.position);if((0,a.rif)(t)){var n=document.getElementById("dream-"+t.id._dream_id);"none"===n.style.display?(n.style.display="block",function(e){d.apply(this,arguments)}("/dream-inc-view?id="+t.id._dream_id)):n.style.display="none"}}),a.Wvr.LEFT_CLICK)})),A();for(var x=null,k=null,b=document.getElementById("category").children,C=function(e){b[e].onclick=function(){R(".category"),x!==b[e].id?(x=b[e].id,b[e].classList.add("selectedFilter")):x=null,A()}},F=0;F<b.length;F++)C(F);for(var I=document.getElementById("theme").children,E=function(e){I[e].onclick=function(){R(".theme"),k!==I[e].id?(k=I[e].id,I[e].classList.add("selectedFilter")):k=null,A()}},M=0;M<I.length;M++)E(M);function A(){return S.apply(this,arguments)}function S(){return(S=s(regeneratorRuntime.mark((function e(){var t,n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=i(g._entities._array),e.prev=1,r=regeneratorRuntime.mark((function e(){var t,r,a,i,o,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.value,r="",a=0,i="",o=t.theme.includes(k)||null==k,c=t.category.includes(x)||null==x,t.dreams.forEach((function(e){e.category.toLowerCase()==x&&null==k||e.theme_short==k&&null==x||e.category.toLowerCase()==x&&e.theme_short==k||null==x&&null==k?(document.getElementById("dream-"+e.id).style.display="block",a++,r=e.theme_pin_ico,i=e.theme_short):document.getElementById("dream-"+e.id).style.display="none"})),t.show=o&&c,a>1&&(r='<svg version="1.1" width="200px" height="360px" id="Calque_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 595.3 841.9" style="enable-background:new 0 0 595.3 841.9;" xml:space="preserve"> <style type="text/css"> .st0{fill:#1C1F3C;} .st1{fill:none;stroke:#FFFFFF;stroke-width:4;stroke-miterlimit:10;} .st2{fill:#FFFFFF;} </style> <path class="st0" d="M343.6,407c0,40-46.1,73.1-46.1,73.1s-46.1-33-46.1-73.1c0-25.5,20.6-46.1,46.1-46.1S343.6,381.5,343.6,407z"/> <circle class="st1" cx="297.5" cy="407" r="34.4"/> <g><text x="284" y="427" font-family="Verdana" font-size="55" fill="white">'+a+" </text> </g> </svg> "),r='<svg  width="200px" height="360px" version="1.1" id="Calque_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 595.3 841.9" style="enable-background:new 0 0 595.3 841.9;" xml:space="preserve"> <style type="text/css"> .st0{fill:#1C1F3C;} .st1{fill:none;stroke:#FFFFFF;stroke-width:4;stroke-miterlimit:10;} .st2{fill:#FFFFFF;} </style> <path class="st0" d="M343.6,407c0,40-46.1,73.1-46.1,73.1s-46.1-33-46.1-73.1c0-25.5,20.6-46.1,46.1-46.1S343.6,381.5,343.6,407z"/> <circle class="st1" cx="297.5" cy="407" r="34.4"/> <g> <path class="st2" d="M274.9,419.8c0-5.2,0-10.3,0-15.5c0,0,0.1,0,0.1,0c7,2.3,14.1,4.7,21.1,7.1c1.3,0.4,2.5,0.4,3.7,0 c7.1-2.4,14.2-4.7,21.3-7.1c0,5.1,0,10.2,0,15.4c-0.1,0.5-0.2,1-0.5,1.5c-1,2.1-2.7,3.2-5,3.2c-11.8,0-23.6,0-35.3,0 c-0.1,0-0.2,0-0.4,0c-2.1-0.1-3.6-1.1-4.6-3C275.2,420.8,275.1,420.3,274.9,419.8z"/> <path class="st2" d="M274.9,401.2c0-1.7,0-3.4,0-5.2c0.2-0.6,0.4-1.3,0.7-1.8c1-1.8,2.6-2.7,4.7-2.7c3.2,0,6.4,0,9.5,0 c0.4,0,0.5-0.1,0.5-0.5c0-0.5,0-1.1,0-1.6c0.1-2,1.7-3.6,3.7-3.7c2.7,0,5.4,0,8,0c1.7,0,3.2,1.2,3.6,3c0.1,0.7,0.1,1.5,0.1,2.2 c0,0.5,0.1,0.6,0.6,0.6c3.2,0,6.3,0,9.5,0c2.3,0,4,1.1,4.9,3.2c0.2,0.4,0.3,0.9,0.4,1.4c0,1.7,0,3.4,0,5.1c0,0-0.1,0-0.1,0.1 c-7.5,2.5-15,5-22.5,7.5c-0.4,0.1-0.8,0.1-1.2,0c-4.5-1.5-9-3-13.5-4.5C280.9,403.2,277.9,402.2,274.9,401.2z M298,391.5 c1.2,0,2.3,0,3.5,0c0.3,0,0.4-0.1,0.4-0.4c0-0.4,0-0.8,0-1.2c0-0.3-0.1-0.4-0.4-0.4c-2.3,0-4.7,0-7,0c-0.3,0-0.4,0.1-0.4,0.4 c0,0.4,0,0.8,0,1.2c0,0.4,0.1,0.4,0.4,0.4C295.7,391.5,296.9,391.5,298,391.5z"/> </g> </svg> ',e.next=12,l(r,i);case 12:t.billboard.image=e.sent;case 13:case"end":return e.stop()}}),e)})),t.s();case 4:if((n=t.n()).done){e.next=8;break}return e.delegateYield(r(),"t0",6);case 6:e.next=4;break;case 8:e.next=13;break;case 10:e.prev=10,e.t1=e.catch(1),t.e(e.t1);case 13:return e.prev=13,t.f(),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[1,10,13,16]])})))).apply(this,arguments)}function R(e){var t=document.querySelectorAll(".selectedFilter"+e);[].forEach.call(t,(function(e){e.classList.remove("selectedFilter")}))}A()}},e=>{e.O(0,[190],(()=>{return t=74836,e(e.s=t);var t}));e.O()}]);