"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[304],{74836:(e,t,n)=>{n(35666),n(82772),n(89554),n(41539),n(54747),n(54678),n(26699),n(32023),n(74916),n(15306),n(88674),n(47042),n(68309),n(91038),n(78783),n(82526),n(41817),n(32165),n(66992),n(33948),n(79753);var r=n(22805);function o(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,l=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return l=e.done,e},e:function(e){s=!0,i=e},f:function(){try{l||null==n.return||n.return()}finally{if(s)throw i}}}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i(e,t,n,r,o,a,i){try{var l=e[a](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,o)}function l(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function l(e){i(a,r,o,l,s,"next",e)}function s(e){i(a,r,o,l,s,"throw",e)}l(void 0)}))}}function s(){return(s=l(regeneratorRuntime.mark((function e(t,n){var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=document.createElement("canvas")).width=200,r.height=360,(o=new Image).src="data:image/svg+xml;base64,"+window.btoa(t),e.next=7,new Promise((function(e,t){o.onload=function(){return e(r)}}));case 7:return"perso"==n?r.getContext("2d").drawImage(o,83,140):r.getContext("2d").drawImage(o,0,-15),e.abrupt("return",r);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function c(){return(c=l(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new XMLHttpRequest).open("GET",t,!0),n.send(null),e.abrupt("return",n.responseText);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}r.f3v.defaultAccessToken="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiJhYzNkMmMxNi04NDM3LTQyNzEtYjBlNy05NTAxNjVjMGVhMDEiLCJpZCI6OTA1MzQsImlhdCI6MTY1MDQzNTIyMn0.P6exO2RJvDDe-6SgILWjoj92WeEaeRkPdWEeP6YhfYw";var u,d=navigator.userAgent.toLowerCase().indexOf("android")>-1;u=r.B$V.SCENE3D;var m=new r.AEx("cesiumContainer",{imageryProvider:new r.rpp({url:"https://services.arcgisonline.com/ArcGIS/rest/services/NatGeo_World_Map/MapServer/"}),resolutionScale:1,sceneMode:u,allowTextureFilterAnisotropic:!1,animation:!1,baseLayerPicker:!1,fullscreenButton:!1,geocoder:!1,homeButton:!1,sceneModePicker:!1,camera:!1,selectionIndicator:!1,timeline:!1,useDefaultRenderLoop:!0,navigationHelpButton:!1,shouldAnimate:!0,sun:!1,skyBox:!1,skyAtmosphere:!1,requestRenderMode:!0,contextOptions:{webgl:{alpha:!0,antialias:!1,depth:!0,premultipliedAlpha:!0,preserveDrawingBuffer:!1,failIfMajorPerformanceCaveat:!0,stencil:!0}}}),f=m.scene,p=m.screenSpaceEventHandler,h=m.camera,y=m.entities;f.backgroundColor=r.Ilk.clone(r.Ilk.TRANSPARENT).withAlpha(0),m.highDynamicRange=!1,f.screenSpaceCameraController.minimumZoomDistance=6e3,d?(f.screenSpaceCameraController.maximumZoomDistance=12756274,h.flyTo({destination:r.b91.fromDegrees(2.3491,48.8579,9e6)})):(f.screenSpaceCameraController.maximumZoomDistance=9567205.5,h.flyTo({destination:r.b91.fromDegrees(2.3491,48.8579,9e6)}));var g,v,w=(g="/dream-data-map",(v=new XMLHttpRequest).open("GET",g,!1),v.send(null),v.responseText);(w=JSON.parse(w)).dreams.forEach((function(e){y.add({position:r.b91.fromDegrees(parseFloat(e.lng),parseFloat(e.lat)),billboard:{width:200,height:360},show:!0,dreams:e.dreams,theme:e.theme_short,dream_id:e.id,category:e.category}),p.setInputAction((function(e){var t=f.pick(e.position);if((0,r.rif)(t)){var n=document.getElementById("dream-"+t.id._dream_id);"none"===n.style.display?(n.style.display="block",function(e){c.apply(this,arguments)}("/dream-inc-view?id="+t.id._dream_id)):n.style.display="none"}}),r.Wvr.LEFT_CLICK)})),M();for(var x=null,b=null,C=document.getElementById("category").children,k=function(e){C[e].onclick=function(){S(".category"),x!==C[e].id?(x=C[e].id,C[e].classList.add("selectedFilter")):x=null,M()}},I=0;I<C.length;I++)k(I);for(var F=document.getElementById("theme").children,E=function(e){F[e].onclick=function(){S(".theme"),b!==F[e].id?(b=F[e].id,F[e].classList.add("selectedFilter")):b=null,M()}},A=0;A<F.length;A++)E(A);function M(){var e,t=o(y._entities._array);try{var n=function(){var t=e.value,n="",r=0,o="",a=!1,i=t.theme.includes(b)||null==b,l=t.category.includes(x)||null==x;t.dreams.forEach((function(e){e.category.toLowerCase()==x&&null==b||e.theme_short==b&&null==x||e.category.toLowerCase()==x&&e.theme_short==b||null==x&&null==b?(document.getElementById("dream-"+e.id).style.display="block",r++,n=e.theme_pin_ico,o=e.theme_short,a=e.is_author):document.getElementById("dream-"+e.id).style.display="none"})),t.show=i&&l,r>1&&(n='<svg version="1.1" width="200px" height="360px" id="Calque_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 595.3 841.9" style="enable-background:new 0 0 595.3 841.9;" xml:space="preserve"> <style type="text/css"> .st0{fill:#1C1F3C;} .st1{fill:none;stroke:#FFFFFF;stroke-width:4;stroke-miterlimit:10;} .st2{fill:#FFFFFF;} </style> <path class="st0" d="M343.6,407c0,40-46.1,73.1-46.1,73.1s-46.1-33-46.1-73.1c0-25.5,20.6-46.1,46.1-46.1S343.6,381.5,343.6,407z"/> <circle class="st1" cx="297.5" cy="407" r="34.4"/> <g><text x="284" y="427" font-family="Verdana" font-size="55" fill="white">'+r+" </text> </g> </svg> ",o=null),console.log(a),a&&(n=(n=n.replace("none","#0abff3")).replace("white","#1C1F3CFF")),t.billboard.image=function(e,t){return s.apply(this,arguments)}(n,o)};for(t.s();!(e=t.n()).done;)n()}catch(e){t.e(e)}finally{t.f()}}function S(e){var t=document.querySelectorAll(".selectedFilter"+e);[].forEach.call(t,(function(e){e.classList.remove("selectedFilter"),e.classList.add("filter-box-none")}))}M()}},e=>{e.O(0,[261],(()=>{return t=74836,e(e.s=t);var t}));e.O()}]);